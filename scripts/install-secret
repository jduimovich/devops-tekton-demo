DOCKERHUB_USERNAME=$MY_DOCKER_USER
DOCKERHUB_PASSWORD=$MY_DOCKER_PW

GITHUB_USERNAME=$MY_PUBLIC_GIT_USER
GITHUB_TOKEN=$MY_PUBLIC_GIT_TOKEN
GITHUB_URL=https://github.com

## docker-push secret used to push images to dockerhub
export DASHBOARD_INSTALL_NS=$TEKTON_DEMO_NS
export DASHBOARD_INSTALL_SA=$TEKTON_DEMO_SA

post_data='{
    "name": "dockerhub-user-password",
    "type": "userpass",
    "username": "'"${DOCKERHUB_USERNAME}"'",
    "password": "'"${DOCKERHUB_PASSWORD}"'",
    "url": {"tekton.dev/docker-0": "https://index.docker.io/v1/"},
    "serviceaccount": "'"${DASHBOARD_INSTALL_SA}"'"
}'
echo $post_data
curl -X POST --header Content-Type:application/json -d "$post_data" http://localhost:9097/v1/namespaces/${DASHBOARD_INSTALL_NS}/credentials
echo 'created dockerhub-user-password  secret' 

post_data='{                                                                                                                      
    "name": "github-user-password",                                                                                          
    "type": "userpass",                                                                                                           
    "username": "'"${GITHUB_USERNAME}"'",                                                                                         
    "password": "'"${GITHUB_TOKEN}"'",                                                                                            
    "url": {"tekton.dev/git-0": "'"${GITHUB_URL}"'"},                                                                             
    "serviceaccount": "'"${DASHBOARD_INSTALL_SA}"'"

}'
echo $post_data
curl -X POST --header Content-Type:application/json -d "$post_data" http://localhost:9097/v1/namespaces/${DASHBOARD_INSTALL_NS}/\
credentials
echo 'created github-user-password secret'
